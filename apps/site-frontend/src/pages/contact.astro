---
import Footer from "../components/Footer.astro";
import Navigation from '../components/Navigation.astro';
import '../styles/contact/contact.css';
import '../styles/global.css';

const emailToken = `${import.meta.env.WEB3FORM_TOKEN}`;
const data = await fetch("http://localhost:3000/api/globals/socials/").then((res) => res.json());
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} >
    <title>About</title>
  </head>
  <body>
    <Navigation/>

    <div id="contact">
      <h1>Ready to meet Samuel Tseng?</h1>
      <h2>Fill in the enquiry form or contact Samuel via Social Media</h2>
      <div id="social-icons">
        {
          data.socials?.map((social) => (
            <a href={social.url} target="_blank">
              <img src={`http://localhost:3000${social.icon.url}`}/>
            </a>
          ))
        }
      </div>
      <div id="contact-form">
        <form
        action="https://api.web3forms.com/submit"
        method="POST"
        id="form"
        class="needs-validation"
        data-astro-reload
        novalidate>
        <input type="hidden" name="access_key" value={emailToken}/>
          <label for="name">Full Name</label>
          <input type="text" id="name" name="name" placeholder="Your full name">
  
          <label for="fname">Email Address</label>
          <input type="text" id="email" name="firstname" placeholder="Your email address">
  
          <label for="fname">Subject</label>
          <input type="text" id="email" name="firstname" placeholder="Your enquiry">
  
          <label for="fname">Message</label>
          <input type="text" id="email" name="firstname" placeholder="Message">
  
          <input type="submit" value="Submit">
        </form>
      </div>
    </div>
    <Footer></Footer>
  </body>
</html>